{
  "total_tests": 934,
  "passed_tests": 673,
  "failed_tests": 261,
  "compliance_percentage": 72.05567451820129,
  "execution_time_total_ms": 327196.47693634033,
  "execution_time_average_ms": 350.28674566771286,
  "parser_type": "FHIRPathParser",
  "database_type": "duckdb",
  "timestamp": "2026-02-12T22:41:14.926565",
  "test_categories": {
    "comments_syntax": {
      "total": 9,
      "passed": 9,
      "failed": 0
    },
    "basic_expressions": {
      "total": 2,
      "passed": 2,
      "failed": 0
    },
    "path_navigation": {
      "total": 10,
      "passed": 9,
      "failed": 1
    },
    "error_handling": {
      "total": 5,
      "passed": 4,
      "failed": 1
    },
    "type_functions": {
      "total": 116,
      "passed": 78,
      "failed": 38
    },
    "collection_functions": {
      "total": 141,
      "passed": 86,
      "failed": 55
    },
    "function_calls": {
      "total": 113,
      "passed": 69,
      "failed": 44
    },
    "arithmetic_operators": {
      "total": 71,
      "passed": 34,
      "failed": 37
    },
    "comparison_operators": {
      "total": 338,
      "passed": 267,
      "failed": 71
    },
    "datetime_functions": {
      "total": 6,
      "passed": 6,
      "failed": 0
    },
    "boolean_logic": {
      "total": 6,
      "passed": 5,
      "failed": 1
    },
    "string_functions": {
      "total": 89,
      "passed": 76,
      "failed": 13
    },
    "math_functions": {
      "total": 28,
      "passed": 28,
      "failed": 0
    }
  },
  "performance_metrics": {
    "min_execution_time_ms": 0.014781951904296875,
    "max_execution_time_ms": 698.9285945892334,
    "median_execution_time_ms": 388.3931636810303,
    "std_dev_execution_time_ms": 124.3263001038484
  },
  "failed_test_analysis": [
    {
      "name": "testDollarOrderNotAllowed",
      "expression": "Patient.children().skip(1)",
      "error": "Expected semantic failure but expression was accepted.",
      "execution_time_ms": 379.6873092651367,
      "actual_result": {
        "is_valid": true,
        "result": [
          {
            "unnest": "{\"status\":\"generated\",\"div\":{\"table\":{\"tbody\":{\"tr\":[{\"td\":[\"Name\",{\"b\":\"Chalmers\"}]},{\"td\":[\"Address\",\"534 Erewhon, Pleasantville, Vic, 3999\"]},{\"td\":[\"Contacts\",\"Home: unknown. Work: (03) 5555 6473\"]},{\"td\":[\"Id\",\"MRN: 12345 (Acme Healthcare)\"]}]}}}}"
          },
          {
            "unnest": "[{\"use\":\"usual\",\"type\":{\"coding\":[{\"system\":\"http://terminology.hl7.org/CodeSystem/v2-0203\",\"code\":\"MR\"}]},\"system\":\"urn:oid:1.2.36.146.595.217.0.1\",\"value\":\"12345\",\"period\":{\"start\":\"2001-05-06\"},\"assigner\":{\"display\":\"Acme Healthcare\"}}]"
          },
          {
            "unnest": "\"true\""
          },
          {
            "unnest": "[{\"use\":\"official\",\"family\":\"Chalmers\",\"given\":[\"Peter\",\"James\"]},{\"use\":\"usual\",\"given\":[\"Jim\"]},{\"use\":\"maiden\",\"family\":\"Windsor\",\"given\":[\"Peter\",\"James\"],\"period\":{\"end\":\"2002\"}}]"
          },
          {
            "unnest": "[{\"use\":\"home\"},{\"system\":\"phone\",\"value\":\"(03) 5555 6473\",\"use\":\"work\",\"rank\":\"1\"},{\"system\":\"phone\",\"value\":\"(03) 3410 5613\",\"use\":\"mobile\",\"rank\":\"2\"},{\"system\":\"phone\",\"value\":\"(03) 5555 8834\",\"use\":\"old\",\"period\":{\"end\":\"2014\"}}]"
          },
          {
            "unnest": "\"male\""
          },
          {
            "unnest": "{\"value\":\"1974-12-25\",\"extension\":{\"url\":\"http://hl7.org/fhir/StructureDefinition/patient-birthTime\",\"valueDateTime\":\"1974-12-25T14:35:45-05:00\"}}"
          },
          {
            "unnest": "\"false\""
          },
          {
            "unnest": "[{\"use\":\"home\",\"type\":\"both\",\"text\":\"534 Erewhon St PeasantVille, Rainbow, Vic  3999\",\"line\":[\"534 Erewhon St\"],\"city\":\"PleasantVille\",\"district\":\"Rainbow\",\"state\":\"Vic\",\"postalCode\":\"3999\",\"period\":{\"start\":\"1974-12-25\"}}]"
          },
          {
            "unnest": "[{\"relationship\":{\"coding\":{\"system\":\"http://terminology.hl7.org/CodeSystem/v2-0131\",\"code\":\"N\"}},\"name\":{\"family\":{\"value\":\"du March\u00e9\",\"extension\":[{\"url\":\"http://hl7.org/fhir/StructureDefinition/humanname-own-prefix\",\"valueString\":\"VV\"}]},\"given\":\"B\u00e9n\u00e9dicte\"},\"telecom\":{\"system\":\"phone\",\"value\":\"+33 (237) 998327\"},\"address\":{\"use\":\"home\",\"type\":\"both\",\"line\":\"534 Erewhon St\",\"city\":\"PleasantVille\",\"district\":\"Rainbow\",\"state\":\"Vic\",\"postalCode\":\"3999\",\"period\":{\"start\":\"1974-12-25\"}},\"gender\":\"female\",\"period\":{\"start\":\"2012\"}}]"
          },
          {
            "unnest": "{\"reference\":\"Organization/1\"}"
          },
          {
            "unnest": "\"Patient\""
          }
        ]
      }
    },
    {
      "name": "testLiteralDecimalLessThanInvalid",
      "expression": "Observation.value.value < 'test'",
      "error": "Expected semantic failure but expression was accepted.",
      "execution_time_ms": 438.5089874267578,
      "actual_result": {
        "is_valid": true,
        "result": [
          true
        ]
      }
    },
    {
      "name": "testExpressions",
      "expression": "Patient.name.select(given | family).distinct()",
      "error": "Unexpected evaluation outcome.",
      "execution_time_ms": 410.34913063049316,
      "actual_result": {
        "is_valid": true,
        "result": [
          [
            "[\"Peter\",\"James\"]",
            "Chalmers"
          ],
          [
            "[\"Jim\"]"
          ],
          [
            "[\"Peter\",\"James\"]",
            "Windsor"
          ]
        ]
      }
    },
    {
      "name": "testStringQuantityWeekConvertsToQuantityFalse",
      "expression": "'1 wk'.convertsToQuantity().not()",
      "error": "Unexpected evaluation outcome.",
      "execution_time_ms": 400.4671573638916,
      "actual_result": {
        "is_valid": true,
        "result": [
          false
        ]
      }
    },
    {
      "name": "testIntegerLiteralToQuantity",
      "expression": "1.toQuantity() = 1 '1'",
      "error": "Unexpected evaluation outcome.",
      "execution_time_ms": 395.8923816680908,
      "actual_result": {
        "is_valid": true,
        "result": [
          false
        ]
      }
    },
    {
      "name": "testStringIntegerLiteralToQuantity",
      "expression": "'1'.toQuantity()",
      "error": "Unexpected evaluation outcome.",
      "execution_time_ms": 385.8215808868408,
      "actual_result": {
        "is_valid": true,
        "result": [
          {
            "value": 1.0,
            "unit": "1",
            "system": "http://unitsofmeasure.org",
            "code": "1"
          }
        ]
      }
    },
    {
      "name": "testStringQuantityMonthLiteralToQuantity",
      "expression": "'1 \\'mo\\''.toQuantity() = 1 month",
      "error": "Expected valid expression with empty result set.",
      "execution_time_ms": 372.6320266723633,
      "actual_result": {
        "is_valid": true,
        "result": [
          true
        ]
      }
    },
    {
      "name": "testStringQuantityYearLiteralToQuantity",
      "expression": "'1 \\'a\\''.toQuantity() = 1 year",
      "error": "Expected valid expression with empty result set.",
      "execution_time_ms": 388.4739875793457,
      "actual_result": {
        "is_valid": true,
        "result": [
          true
        ]
      }
    },
    {
      "name": "testStringDecimalLiteralToQuantity",
      "expression": "'1.0'.toQuantity() ~ 1 '1'",
      "error": "Unexpected evaluation outcome.",
      "execution_time_ms": 387.98975944519043,
      "actual_result": {
        "is_valid": true,
        "result": [
          false
        ]
      }
    },
    {
      "name": "testStringLiteralToString",
      "expression": "'true'.toString()",
      "error": "Unexpected evaluation outcome.",
      "execution_time_ms": 391.6809558868408,
      "actual_result": {
        "is_valid": true,
        "result": [
          true
        ]
      }
    }
  ]
}